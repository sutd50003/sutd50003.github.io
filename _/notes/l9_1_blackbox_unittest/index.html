
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>50.003 - Specification-based Unit Testing - Elements of Software Construction 50.003</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#50003-specification-based-unit-testing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Elements of Software Construction 50.003" class="md-header__button md-logo" aria-label="Elements of Software Construction 50.003" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Elements of Software Construction 50.003
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              50.003 - Specification-based Unit Testing
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Elements of Software Construction 50.003" class="md-nav__button md-logo" aria-label="Elements of Software Construction 50.003" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Elements of Software Construction 50.003
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/l1_course_handout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handout
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-outcomes" class="md-nav__link">
    <span class="md-ellipsis">
      Learning Outcomes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-of-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Types of testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types of testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specification-based-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Specification-based Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-based-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Code-based Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#levels-of-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Levels of testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Levels of testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#unit-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Unit Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specification-based-unit-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Specification-based Unit Testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specification-based Unit Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#boundary-value-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Boundary Value Testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Boundary Value Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#normal-boundary-value-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Normal Boundary Value Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#robust-boundary-value-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Robust Boundary Value Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worst-boundary-value-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Worst Boundary Value Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exercises-non-graded" class="md-nav__link">
    <span class="md-ellipsis">
      Exercises (Non graded)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exercises (Non graded)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#equivalence-class-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Equivalence Class Testing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Equivalence Class Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decision-table-testing" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Table Testing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="50003-specification-based-unit-testing">50.003 - Specification-based Unit Testing</h1>
<h2 id="learning-outcomes">Learning Outcomes</h2>
<p>By the end of this unit, you should be able to </p>
<ol>
<li>Explain the differences between Specification-based testing and code-based testing</li>
<li>Identify different levels of testing based on the design abstraction level</li>
<li>Develop specification-based unit testing using boundary value testing</li>
<li>Develop specification-based unit testing using equivalence class testing</li>
<li>Develop specification-based unit testing using decision table testing</li>
</ol>
<h2 id="types-of-testing">Types of testing</h2>
<p>Depending on how the test cases being identified and defined, we find two types
of testings</p>
<h3 id="specification-based-testing">Specification-based Testing</h3>
<p>In specification-based testing, the test subject is treated as a function that maps values from its domain (input) into values in its co-domain (output). 
The mapping can be defined as a mathemethical relation according to the specification.
Specification-based testing is also known as black box testing, as the test cases are defined without the knowledge of the internal implementation of the test subject. 
One main advantage of specification-based testing is that it focuses the test effort on the actualization of the specification, i.e. building up confidence. In some literature, specification-based testing is also called functional testing.</p>
<h3 id="code-based-testing">Code-based Testing</h3>
<p>On the other hand, one could define test cases by exploiting the knowledge of the internal structure and algorithm used in the target program. This type of testing is called code-based testing. Code-based testing is also known as white box testing.
The main advantage of code-based testing is that it tries to ensure all the written codes are covered by the test, i.e. fault finding. In some literature, code-based testing is also called structural testing.</p>
<h2 id="levels-of-testing">Levels of testing</h2>
<p>Recall from the earlier lesson, software design often uses abstraction. 
Based on different levels of design abstractions, we identify the correspondent level of testings.</p>
<table>
<thead>
<tr>
<th>Design abstraction level</th>
<th>Testing level</th>
</tr>
</thead>
<tbody>
<tr>
<td>Requirement Specifications</td>
<td>System testing</td>
</tr>
<tr>
<td>Preliminary Design</td>
<td>Integration testing</td>
</tr>
<tr>
<td>Detailed Design</td>
<td>Unit testing</td>
</tr>
</tbody>
</table>
<ul>
<li>Unit testing - test individual smallest units of the system.</li>
<li>Integration testing - test related units/subcomponents of the system, which are related (according to the system design)</li>
<li>System testing - test the system as a whole, (often according to the user cases).</li>
</ul>
<h3 id="unit-testing">Unit Testing</h3>
<p>Unit Testing is the test conducted against a software system in the smallest granularity.
The smallest granularity is loosely defined. Depending on the choice of detailed design, implementation, programming language and framework, a unit can be either</p>
<ol>
<li>A function</li>
<li>A class</li>
<li>A module</li>
<li>A UI component</li>
</ol>
<h3 id="specification-based-unit-testing">Specification-based Unit Testing</h3>
<p>The following are some common techniques of defining test cases of specification-based unit testing</p>
<ol>
<li>Boundary value testing</li>
<li>Equivalence class testing</li>
<li>Decision table testing</li>
</ol>
<p>Based on the type, the domain and the dependencies of the inputs, we shortlist the techniques which more appropriate</p>
<table>
<thead>
<tr>
<th>Assumption on input</th>
<th>Techniques</th>
</tr>
</thead>
<tbody>
<tr>
<td>Numerical value, ordinal value</td>
<td>boundary value, equivalence class</td>
</tr>
<tr>
<td>Inputs are independent</td>
<td>boundary value, equivalence class</td>
</tr>
<tr>
<td>Inputs are depenedent</td>
<td>Decision table</td>
</tr>
</tbody>
</table>
<h4 id="boundary-value-testing">Boundary Value Testing</h4>
<p>In Boundary value testing, to define the test cases, we analyse the inputs to the test subject by identifying </p>
<ol>
<li>what are the input variables.</li>
<li>what are the valid ranges.</li>
</ol>
<p>For example, consider a function <code>f(x1,x2)</code> takes two arguments <code>x1</code> and <code>x2</code> and compute some output. Based on the specification, we note that the following conditions should apply</p>
<div class="arithmatex">\[
a \leq x_1 \leq b
\]</div>
<div class="arithmatex">\[
c \leq x_2 \leq d 
\]</div>
<p>If we plot out a graph</p>
<p><img alt="" src="../images/boundary1.png" /></p>
<p>The grey region denotes the domain of function <code>f</code>.</p>
<p>One way to generate test case based on the given domain of <code>f</code> is to identify the boundaries of the grey region and we pick the values from the boundary
The rationale behind the boundary value testing is that errors tend to occur near the extreme values of its inputs, e.g. starting/ending indices of an array, off-by-one errors in a loop, etc. </p>
<h5 id="normal-boundary-value-testing">Normal Boundary Value Testing</h5>
<p>We consider the following two assumptions.</p>
<ol>
<li>assuming that our source language is strongly type and the type checker would reject values of the inputs out side of the domain.</li>
<li>assuming when an error occurs it is solely caused by one of the inputs but not both.</li>
</ol>
<p>With these two assumptions, we can select values as input for testing as </p>
<div class="arithmatex">\[
\begin{array}{c}
(x^{min}_1, x^{mean}_2) \\
(x^{min}_1+1, x^{mean}_2) \\
(x^{mean}_1, x^{mean}_2) \\ 
(x^{max}_1-1, x^{mean}_2) \\
(x^{max}_1, x^{mean}_2) \\
(x^{mean}_1, x^{min}_2) \\
(x^{mean}_1, x^{min}_2+1) \\
(x^{mean}_1, x^{max}_2-1) \\
(x^{mean}_1, x^{max}_2)
\end{array}
\]</div>
<p>where 
<span class="arithmatex">\(x^{min}_1 = a, x^{max}_1 = b, x^{mean}_1 = (b-a)/2\)</span>
<span class="arithmatex">\(x^{min}_2 = c, x^{max}_2 = d, x^{mean}_2 = (d-c)/2\)</span></p>
<p><img alt="" src="../images/boundary2.png" /></p>
<h4 id="example">Example</h4>
<p>Consider the following function </p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cm">/**</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="cm"> * </span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="cm"> * @param {number} h - the current time in source timezone, in hour, in range of [0,23]</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="cm"> * @param {number} stz - the source timezone, in range of [-12, +14]</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="cm"> * timezone list https://www.ibm.com/docs/en/cloudpakw3700/2.3.0.0?topic=SS6PD2_2.3.0/doc/psapsys_restapi/time_zone_list.htm</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="cm"> * @param {number} ttz - the target timezone, in range of [-12, +14]</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="cm"> * @returns {[number,number]} - the current time in target timezone, in hour, in range of [0,23] and a day offset in the range of {-2,-1,0,1,2}  */</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kd">function</span><span class="w"> </span><span class="nx">tzconvert</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="w"> </span><span class="nx">stz</span><span class="p">,</span><span class="w"> </span><span class="nx">ttz</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="c1">// not yet implemented</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>Applying Normal Boundary Value Test, We identify the following test cases</p>
<table>
<thead>
<tr>
<th>id</th>
<th>h</th>
<th>stz</th>
<th>ttz</th>
<th>expected output</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>[0,0]</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>[1,0]</td>
</tr>
<tr>
<td>3</td>
<td>11</td>
<td>1</td>
<td>1</td>
<td>[11,0]</td>
</tr>
<tr>
<td>4</td>
<td>22</td>
<td>1</td>
<td>1</td>
<td>[22,0]</td>
</tr>
<tr>
<td>5</td>
<td>23</td>
<td>1</td>
<td>1</td>
<td>[23,0]</td>
</tr>
<tr>
<td>6</td>
<td>11</td>
<td>-12</td>
<td>1</td>
<td>[0,1]</td>
</tr>
<tr>
<td>7</td>
<td>11</td>
<td>-11</td>
<td>1</td>
<td>[23,0]</td>
</tr>
<tr>
<td>8</td>
<td>11</td>
<td>13</td>
<td>1</td>
<td>[23,-1]</td>
</tr>
<tr>
<td>9</td>
<td>11</td>
<td>14</td>
<td>1</td>
<td>[22,-1]</td>
</tr>
<tr>
<td>10</td>
<td>11</td>
<td>1</td>
<td>-12</td>
<td>[22,-1]</td>
</tr>
<tr>
<td>11</td>
<td>11</td>
<td>1</td>
<td>-11</td>
<td>[23,-1]</td>
</tr>
<tr>
<td>12</td>
<td>11</td>
<td>1</td>
<td>13</td>
<td>[23, 0]</td>
</tr>
<tr>
<td>13</td>
<td>11</td>
<td>1</td>
<td>14</td>
<td>[0, 1]</td>
</tr>
</tbody>
</table>
<h5 id="robust-boundary-value-testing">Robust Boundary Value Testing</h5>
<p>If we drop the first assumption, we should also include the out of range values in our test cases, namely besides the 9 tuples listed earlier, we include the following</p>
<div class="arithmatex">\[
\begin{array}{c}
(x^{min}_1-1, x^{mean}_2) \\
(x^{max}_1+1, x^{mean}_2) \\
(x^{mean}_1, x^{min}_2-1) \\
(x^{mean}_1, x^{max}_2+1) 
\end{array}
\]</div>
<p><img alt="" src="../images/boundary3.png" /></p>
<h4 id="example_1">Example</h4>
<p>If we apply Robust Boundary Value Testing to the previous example i.e. <code>tzconvert()</code> function , we identify a few extra test cases as follows</p>
<table>
<thead>
<tr>
<th>id</th>
<th>h</th>
<th>stz</th>
<th>ttz</th>
<th>expected output</th>
</tr>
</thead>
<tbody>
<tr>
<td>14</td>
<td>-1</td>
<td>1</td>
<td>1</td>
<td>invalid</td>
</tr>
<tr>
<td>15</td>
<td>24</td>
<td>1</td>
<td>1</td>
<td>invalid</td>
</tr>
<tr>
<td>16</td>
<td>11</td>
<td>-13</td>
<td>1</td>
<td>invalid</td>
</tr>
<tr>
<td>17</td>
<td>11</td>
<td>15</td>
<td>1</td>
<td>invalid</td>
</tr>
<tr>
<td>18</td>
<td>11</td>
<td>1</td>
<td>-13</td>
<td>invalid</td>
</tr>
<tr>
<td>19</td>
<td>11</td>
<td>1</td>
<td>15</td>
<td>invalid</td>
</tr>
</tbody>
</table>
<h4 id="worst-boundary-value-testing">Worst Boundary Value Testing</h4>
<p>If we drop the second assumption, we need to consider those points near the "corners".</p>
<p>For Normal Worst Boundary Value test, we include</p>
<div class="arithmatex">\[
\begin{array}{c}
(x^{min}_1, x^{min}_2) \\
(x^{min}_1, x^{min}_2+1) \\
(x^{min}_1+1, x^{min}_2) \\
(x^{min}_1+1, x^{min}_2+1) \\
(x^{max}_1, x^{max}_2) \\
(x^{max}_1-1, x^{max}_2) \\
(x^{max}_1, x^{max}_2-1) \\
(x^{max}_1-1, x^{max}_2-1) \\
(x^{min}_1, x^{max}_2) \\
(x^{min}_1, x^{max}_2-1) \\
(x^{min}_1+1, x^{max}_2) \\
(x^{min}_1+1, x^{max}_2-1) \\
(x^{max}_1, x^{min}_2) \\
(x^{max}_1-1, x^{min}_2) \\
(x^{max}_1, x^{min}_2+1) \\
(x^{max}_1-1, x^{min}_2+1) 
\end{array}
\]</div>
<p><img alt="" src="../images/boundary4.png" /></p>
<p>For Robust Worst Boundary Value test, we include,</p>
<div class="arithmatex">\[
\begin{array}{c}
(x^{min}_1-1, x^{min}_2-1) \\
(x^{min}_1-1, x^{min}_2) \\
(x^{min}_1-1, x^{min}_2+1) \\
(x^{min}_1, x^{min}_2-1) \\
(x^{min}_1+1, x^{min}_2-1) \\
(x^{max}_1+1, x^{max}_2+1) \\ 
(x^{max}_1+1, x^{max}_2) \\ 
(x^{max}_1+1, x^{max}_2-1) \\ 
(x^{max}_1, x^{max}_2+1) \\ 
(x^{max}_1-1, x^{max}_2+1) \\ 
(x^{min}_1-1, x^{max}_2+1) \\ 
(x^{min}_1, x^{max}_2+1) \\ 
(x^{min}_1+1, x^{max}_2+1) \\ 
(x^{min}_1-1, x^{max}_2) \\ 
(x^{min}_1-1, x^{max}_2-1) \\ 
(x^{max}_1+1, x^{min}_2-1) \\ 
(x^{max}_1+1, x^{min}_2) \\ 
(x^{max}_1+1, x^{min}_2+1) \\ 
(x^{max}_1, x^{min}_2-1) \\ 
(x^{max}_1-1, x^{min}_2-1) 
\end{array}
\]</div>
<p><img alt="" src="../images/boundary5.png" /></p>
<h3 id="exercises-non-graded">Exercises (Non graded)</h3>
<p>Can you find out what are the extra test cases generated if we apply Robust Worst Boundary Value Testing to the <code>tzconvert()</code> function?</p>
<h4 id="equivalence-class-testing">Equivalence Class Testing</h4>
<p>One issue with Boundary Value Testing is that there could be too many test cases and many of them could be redundant. </p>
<p>The intuition of the equivalence is to avoid redundancy in test cases and yet to offer a complete test.</p>
<p>The term <em>equivalence class</em> refers to the math definition of equivalence relation in set theory. Given  Given a domain <span class="arithmatex">\(A\)</span>, a relation <span class="arithmatex">\(R \subseteq A \times A\)</span> is a equivalence relation iff <span class="arithmatex">\(R\)</span> is reflexive, symmetric and transitive. We can think of <span class="arithmatex">\(R\)</span> defines a partition peer relation. For instance, we have</p>
<ol>
<li>for any <span class="arithmatex">\(a \in A\)</span>, <span class="arithmatex">\(a R\ a\)</span>, i.e. <span class="arithmatex">\(a_i\)</span>s are in its own partition</li>
<li>for any <span class="arithmatex">\(a_1, a_2 \in A\)</span>, we have <span class="arithmatex">\(a_1 R\ a_2\)</span> implies <span class="arithmatex">\(a_2 R\ a_1\)</span>, i.e. if <span class="arithmatex">\(a_1\)</span> in the partition of <span class="arithmatex">\(a_2\)</span>, then <span class="arithmatex">\(a_2\)</span> is in the parition of <span class="arithmatex">\(a_1\)</span>.</li>
<li>for any <span class="arithmatex">\(a_1, a_2, a_3 \in A\)</span>, we have <span class="arithmatex">\(a_1 R\ a_2\)</span> and <span class="arithmatex">\(a_2 R\ a_3\)</span> imply <span class="arithmatex">\(a_1 R\ a_3\)</span>, i.e. if <span class="arithmatex">\(a_1\)</span> and <span class="arithmatex">\(a_2\)</span> are in the same partition, and <span class="arithmatex">\(a_2\)</span> and <span class="arithmatex">\(a_3\)</span> are in the same partition, then <span class="arithmatex">\(a_1\)</span> and <span class="arithmatex">\(a_3\)</span> are in the same partition.</li>
</ol>
<p>Equivalence class testing means to test with an element from each input partition. 
For example, recall the previous example, we would pick one point for each cell in "grid"</p>
<p><img alt="" src="../images/eqclass1.png" /></p>
<p>Note that in the Strong Robust  Equivalence Class Testing , we would include the dots from the top-left, top-right, bottom-left and bottom-right cells.</p>
<h5 id="example_2">Example</h5>
<p>For instance if we apply Equivalence Class Testing (not strong robust) to the <code>tzconvert()</code> function, we only need to consider  test cases <code>3, 14, 15, 16, 17, 18, 19</code>.
If we argue that the valid test cases are too fews, we could further partition the valid input region, into 2 or 4 sub regions. </p>
<p>As we can observe equivalence class testing help to reduce the number of cases based on the assumption that data points in the same partition yield the same outcome. Its reliability depends on how to partitions.</p>
<h4 id="decision-table-testing">Decision Table Testing</h4>
<p>When there exists some dependency among the inputs, it is more applicable to use Decision Table Testing.</p>
<p>Consider the following function</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="cm">/**</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="cm"> * </span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="cm"> * @param {number} d - the day in digit, [1,31]</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="cm"> * @param {number} m - the month in digit, [1,12]</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="cm"> * @param {number} y - the year in digit, [0,inf)</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="cm"> * @returns {[number,number,number]} - the next day in date [day,month,year] </span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="cm"> */</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="kd">function</span><span class="w"> </span><span class="nx">nextdate</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">m</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">    </span><span class="c1">// TODO</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>Applying boundary value testing and equivalence class testing might not make too much sense in this case, since the domain (partitions) are not well defined, e.g. there are too many special cases. For instance,</p>
<ol>
<li>Feb 28 days in non-leap years, 29 days in leap years; </li>
<li>Jan, Mar, May, Jul, Aug, Oct, Dec have 31 days, while Apr, Jun, Sep and Nov have 30 days;</li>
<li>Years that not in <code>dd00</code> patterns and can be divisible by 4 are leap years, Given a Year in <code>dd00</code> pattern and <code>dd</code> is divisible by 4 then the year is leap. </li>
</ol>
<p>Let's define</p>
<ul>
<li>M1 = {month: month has 30 days}</li>
<li>M2 = {month: month has 31 days except December} </li>
<li>M3 = {month: month is December}</li>
<li>M4 = {month: month is February}</li>
<li>D1 = {day: 1 <span class="arithmatex">\(\leq\)</span> day <span class="arithmatex">\(\leq\)</span> 27}</li>
<li>D2 = {day: day = 28}</li>
<li>D3 = {day: day = 29}</li>
<li>D4 = {day: day = 30}</li>
<li>D5 = {day: day = 31}</li>
<li>Y1 = {year: year is a leap year}</li>
<li>Y2 = {year: year is a common year}</li>
</ul>
<p>We list down the input constaints combination and output possibilities in a table</p>
<table>
<thead>
<tr>
<th>~</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
</tr>
</thead>
<tbody>
<tr>
<td>m</td>
<td>M1</td>
<td>M1</td>
<td>M1</td>
<td>M1</td>
<td>M1</td>
<td>M2</td>
<td>M2</td>
<td>M2</td>
<td>M2</td>
<td>M2</td>
</tr>
<tr>
<td>d</td>
<td>D1</td>
<td>D2</td>
<td>D3</td>
<td>D4</td>
<td>D5</td>
<td>D1</td>
<td>D2</td>
<td>D3</td>
<td>D4</td>
<td>D5</td>
</tr>
<tr>
<td>y</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><strong>actions</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>impossible</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>d+1</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>d=1</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>m+1</td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>m=1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>y+1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>~</th>
<th>11</th>
<th>12</th>
<th>13</th>
<th>14</th>
<th>15</th>
<th>16</th>
<th>17</th>
<th>18</th>
<th>19</th>
<th>20</th>
<th>21</th>
<th>22</th>
</tr>
</thead>
<tbody>
<tr>
<td>m</td>
<td>M3</td>
<td>M3</td>
<td>M3</td>
<td>M3</td>
<td>M3</td>
<td>M4</td>
<td>M4</td>
<td>M4</td>
<td>M4</td>
<td>M4</td>
<td>M4</td>
<td>M4</td>
</tr>
<tr>
<td>d</td>
<td>D1</td>
<td>D2</td>
<td>D3</td>
<td>D4</td>
<td>D5</td>
<td>D1</td>
<td>D2</td>
<td>D2</td>
<td>D3</td>
<td>D3</td>
<td>D4</td>
<td>D5</td>
</tr>
<tr>
<td>y</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Y1</td>
<td>Y2</td>
<td>Y1</td>
<td>Y2</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><strong>actions</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>impossible</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>d+1</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>d=1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>m+1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>m=1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>y+1</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Rows above <strong>actions</strong> are the combinations of input constgraints
Rows below <strong>actions</strong> are the output possibilities.</p>
<p>Based on the above table, we can generate the test cases by randomly generate
a set of <code>d</code>, <code>m</code> and <code>y</code> that satisfy the rule id, as follow</p>
<table>
<thead>
<tr>
<th>id</th>
<th>d</th>
<th>m</th>
<th>y</th>
<th>expected output</th>
<th>rule id</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>10</td>
<td>4</td>
<td>1999</td>
<td>11,4,1999</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>28</td>
<td>6</td>
<td>2001</td>
<td>29,6, 2001</td>
<td>2</td>
</tr>
<tr>
<td>...</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>