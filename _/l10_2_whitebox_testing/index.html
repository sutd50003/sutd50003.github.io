
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.0, mkdocs-material-9.5.22" name="generator"/>
<title>50.003 - Code-based Testing : Path testing - Elements of Software Construction 50.003</title>
<link href="../../assets/stylesheets/main.732c4fb1.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#50003-code-based-testing-path-testing">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Elements of Software Construction 50.003" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Elements of Software Construction 50.003">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Elements of Software Construction 50.003
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              50.003 - Code-based Testing : Path testing
            
          </span>
</div>
</div>
</div>
<script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Elements of Software Construction 50.003" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Elements of Software Construction 50.003">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Elements of Software Construction 50.003
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../notes/l1_course_handout/">
<span class="md-ellipsis">
    Handout
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#learning-outcomes">
<span class="md-ellipsis">
      Learning Outcomes
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recall">
<span class="md-ellipsis">
      Recall
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#code-based-testing">
<span class="md-ellipsis">
      Code-based Testing
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#programs-as-graphs">
<span class="md-ellipsis">
      Programs as Graphs
    </span>
</a>
<nav aria-label="Programs as Graphs" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#path">
<span class="md-ellipsis">
      Path
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#test-coverage-metrics">
<span class="md-ellipsis">
      Test Coverage Metrics
    </span>
</a>
<nav aria-label="Test Coverage Metrics" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#program-graph-based-coverage">
<span class="md-ellipsis">
      Program Graph-based coverage
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#condition-coverage-vs-path-coverage">
<span class="md-ellipsis">
      Condition coverage vs path coverage
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mcdc-coverage">
<span class="md-ellipsis">
      MCDC coverage
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#coverage-report-in-jest">
<span class="md-ellipsis">
      Coverage Report in Jest
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#path-testing">
<span class="md-ellipsis">
      Path Testing
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cohort-exercise-graded">
<span class="md-ellipsis">
      Cohort Exercise (Graded)
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="50003-code-based-testing-path-testing">50.003 - Code-based Testing : Path testing</h1>
<h2 id="learning-outcomes">Learning Outcomes</h2>
<ol>
<li>Construct a control flow graph from a structured program</li>
<li>Explain different types of test coverage metrics based on program graph</li>
<li>Apply path testing techniques to generate test case to attain path coverage and MCDC coverage.</li>
</ol>
<h2 id="recall">Recall</h2>
<ul>
<li>Specification based testing</li>
<li>Test cases are derived from the specification</li>
<li>
<p>The goal is to <strong><em>_</em></strong><strong><em>_</em></strong><strong><em>_</em></strong>_</p>
</li>
<li>
<p>Code-based testing</p>
</li>
<li>Test cases are defined by making use of the knowledge of the internal structure and algorithm used in the test subject.</li>
<li>The goal is to <strong><em>_</em></strong><strong><em>_</em></strong><strong><em>_</em></strong>_</li>
</ul>
<h2 id="code-based-testing">Code-based Testing</h2>
<p>If there exists some bug in the program, it must be triggered by some sequence of statements from the program.</p>
<p>In order to find faults, the tests must cover all possible sequences of statements. </p>
<h2 id="programs-as-graphs">Programs as Graphs</h2>
<p>As a convention, we write <span class="arithmatex">\(\overline{S}\)</span> to denote a sequence of statement <span class="arithmatex">\(S_1;...;S_n\)</span>,
<span class="arithmatex">\(e\)</span> to denote an expression, i.e. <span class="arithmatex">\(x &gt; 1\)</span>, <span class="arithmatex">\(isTrue\)</span>, etc.</p>
<p>Let <span class="arithmatex">\(P\)</span> be a program, and <span class="arithmatex">\(G\)</span> to be the control flow graph of <span class="arithmatex">\(P\)</span>, then
* Each statement <span class="arithmatex">\(S\)</span> in <span class="arithmatex">\(P\)</span> denotes a vertex <span class="arithmatex">\(V\)</span> in <span class="arithmatex">\(G\)</span>, written, <span class="arithmatex">\(S \in P \vdash V \in G\)</span>, sometimes we omit the <span class="arithmatex">\(P\)</span> and <span class="arithmatex">\(G\)</span> for simplicity.
* An edge <span class="arithmatex">\((V_1,V_2)\)</span> exists in <span class="arithmatex">\(G\)</span> iff <span class="arithmatex">\(S_1;S_2\)</span> are two statements in sequence in <span class="arithmatex">\(P\)</span> such that <span class="arithmatex">\(S_1 \vdash V_1\)</span> and <span class="arithmatex">\(S_2 \vdash V_2\)</span>.
* Let <span class="arithmatex">\({\tt if}\ e\ \{\overline{S_1}\} {\tt else} \{\overline{S_2}\} \vdash V\)</span> then edges <span class="arithmatex">\((V,V_1)\)</span> and <span class="arithmatex">\((V, V_2)\)</span> exist in <span class="arithmatex">\(G\)</span> iff 
  * <span class="arithmatex">\(S_1\)</span> is the first statement in <span class="arithmatex">\(\overline{S_1}\)</span> and <span class="arithmatex">\(S_1 \vdash V_1\)</span> and 
  * <span class="arithmatex">\(S_2\)</span> is the first statement in <span class="arithmatex">\(\overline{S_2}\)</span> and <span class="arithmatex">\(S_2 \vdash V_2\)</span>.
* Let <span class="arithmatex">\({\tt if}\ e\ \{\overline{S_1}\} {\tt else} \{\overline{S_2}\}; S'\)</span> in <span class="arithmatex">\(P\)</span> and <span class="arithmatex">\(S' \vdash V'\)</span> then edges <span class="arithmatex">\((V_1',V')\)</span> and <span class="arithmatex">\((V_2',V')\)</span> exist in <span class="arithmatex">\(G\)</span> iff 
  * <span class="arithmatex">\(S_1'\)</span> is the last statement in <span class="arithmatex">\(\overline{S_1}\)</span> and <span class="arithmatex">\(S_1' \vdash V_1'\)</span> and 
  * <span class="arithmatex">\(S_2'\)</span> is the last statement in <span class="arithmatex">\(\overline{S_2}\)</span> and <span class="arithmatex">\(S_2' \vdash V_2'\)</span>.
* Let <span class="arithmatex">\({\tt while}\ e\ \{\overline{S_1}\} \vdash V\)</span>. Then edges <span class="arithmatex">\((V, V_1)\)</span> exist in <span class="arithmatex">\(G\)</span> iff
  * <span class="arithmatex">\(S_1\)</span> is the first stataement in <span class="arithmatex">\(\overline{S_1}\)</span> and <span class="arithmatex">\(S_1 \vdash V_1\)</span>.
* Let <span class="arithmatex">\({\tt while}\ e\ \{\overline{S_1}\} \vdash V\)</span>. Then edges <span class="arithmatex">\((V_1', V)\)</span> exist in <span class="arithmatex">\(G\)</span> iff
  * <span class="arithmatex">\(V_1'\)</span> is the last stataement in <span class="arithmatex">\(\overline{S_1}\)</span>.</p>
<p>We can compile for loops to while loops before generating the control flow graph.</p>
<p>For example, consider the following program</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1">// example A</span>
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">sum_all</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">arr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="nx">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">sum</span><span class="p">;</span>
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span><span class="p">;</span>
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="p">}</span>
</span></code></pre></div>
<p>will be compiled into</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">// example A</span>
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">sum_all</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-1-4"><a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-1-5"><a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-6"><a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="nx">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">sum</span><span class="p">;</span>
</span><span id="__span-1-7"><a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="nx">i</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-1-8"><a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-1-9"><a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">sum</span><span class="p">;</span>
</span><span id="__span-1-10"><a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="p">}</span>
</span></code></pre></div>
<p>We can generate a control flow graph from <code>sum_all</code></p>
<pre class="mermaid"><code>graph
  1--&gt;2
  2--&gt;3
  3--&gt;4
  4--&gt;5
  5--&gt;3
  3--&gt;7</code></pre>
<p>where the vertex IDs are the line number of the statement.</p>
<h3 id="path">Path</h3>
<p>Given a graph <span class="arithmatex">\(G\)</span>, a path <span class="arithmatex">\(p\)</span> is a sequence of vertices, <span class="arithmatex">\(V_1,...,V_n\)</span> in <span class="arithmatex">\(G\)</span> such that for all <span class="arithmatex">\(i \in [1,n-1]\)</span>, <span class="arithmatex">\((V_i, V_{i+1})\)</span> is an edge in <span class="arithmatex">\(G\)</span>.</p>
<p>For example, in the above control flow graph, we have the following paths</p>
<ul>
<li><span class="arithmatex">\(1\)</span></li>
<li><span class="arithmatex">\(1,2,3\)</span></li>
<li><span class="arithmatex">\(1,2,3,7\)</span></li>
<li><span class="arithmatex">\(1,2,3,4,5,7\)</span></li>
<li><span class="arithmatex">\(2,3\)</span></li>
<li>...</li>
</ul>
<h3 id="test-coverage-metrics">Test Coverage Metrics</h3>
<h4 id="program-graph-based-coverage">Program Graph-based coverage</h4>
<p>There are following different levels of test coverage metrics for program testing</p>
<p>A set of tests constitute
1. <em>node coverage</em> if all nodes in the control flow graph are visited when the tests are executed.
1. <em>edge coverage</em> if all the edges in the control flow graph are viisted when the tests are executed.
1. <em>condition coverage</em> if all conditional predicates are evaluated to both true and false. 
1. <em>path coverage</em> if all the paths in the control flow graph are visited when the tests are executed. </p>
<p>Note that condition coverage often works better than edge coverage as it forces the tests to 
exercise every single atomic predicates, i.e those are not formed by conjunction, disjunction and negation operator. Consider the following example </p>
<p><div class="language-js highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1">// example B</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">div_by_zero</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">x</span><span class="o">==</span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">y</span><span class="o">&gt;</span><span class="mf">0</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-4"><a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="o">/</span><span class="nx">x</span><span class="p">;</span>
</span><span id="__span-2-5"><a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-6"><a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">    </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="o">++</span><span class="p">;</span>
</span><span id="__span-2-7"><a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-2-8"><a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
</span><span id="__span-2-9"><a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="p">}</span>
</span></code></pre></div>
Given the test cases
* <code>x = 5, y = -5</code>
* <code>x = 7, y = 5</code>
covers all the edges, however it does not discover the division by zero bug.</p>
<p>To trigger the bug, we would need to include the following test case</p>
<ul>
<li><code>x = 0, y = 1</code></li>
</ul>
<p>Which gives us condition coverage.</p>
<p>Note that path coverage is impossible the achieved without approximation in the presence of loops.
In practice we are required to traverse each loop with a fixed number of times, often 1. Then we apply graph condensation, in which the cycles in the control flow graph is replaced by a single node.</p>
<p>For instance, in our running example, the result of the condensation processing is </p>
<p><pre class="mermaid"><code>graph
  1--&gt;2
  2--&gt;3'
  3'--&gt;7</code></pre>
in which the loop 3-4-5 is merged into a single node 3' by assuming the loop terminates after <span class="arithmatex">\(X\)</span> of iterations.</p>
<h4 id="condition-coverage-vs-path-coverage">Condition coverage vs path coverage</h4>
<p>Note that neither path coverage entails condition coverage nor vice versa.</p>
<p>For example, </p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1">// example C</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">x</span><span class="o">&gt;</span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="mf">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">  </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">  </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-3-6"><a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="p">}</span>
</span></code></pre></div>
<p>To obtain path coverage, we could have two tests, i.e. <code>x=1</code> and <code>x = 0</code>, which voilates condition coverage.</p>
<p>On the other hand,</p>
<p><div class="language-js highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1">// example D</span>
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">  </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-5"><a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">  </span><span class="nx">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-4-6"><a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="p">}</span>
</span></code></pre></div>
Having {(<code>x = true, y = false</code>), (<code>x = false, y = true</code>)} we achieve condition coverage, but not path coverage nor edge coverage.</p>
<p>Note that condition coverage and edge coverage do not imply path coverage, either.</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c1">// example E</span>
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="kd">function</span><span class="w"> </span><span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-3"><a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-4"><a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
</span><span id="__span-5-5"><a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-6"><a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">    </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-5-7"><a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-8"><a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-9"><a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">    </span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
</span><span id="__span-5-10"><a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-11"><a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="w">    </span><span class="nx">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
</span><span id="__span-5-12"><a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-13"><a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">z</span><span class="p">;</span>
</span><span id="__span-5-14"><a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="p">}</span>
</span></code></pre></div>
<p>The test cases {(<code>x = 2</code>), (<code>x = -1</code>)} give us condition coverage and edge coverage. But we have not attained path coverage. e.g. we have not visited the path of taking the then-branch of the first if-statement followed by the else-branch of the second if-statement.</p>
<h4 id="mcdc-coverage">MCDC coverage</h4>
<p>MCDC stands for Modified Condition Decision Coverage. </p>
<p>MCDC requires </p>
<ol>
<li>Each statement must be executed at least once.</li>
<li>Every program entry point and exit point must be invoked at least once.</li>
<li>All possible outcomes of every control statement are taken at least once.</li>
<li>Every nonconstant Boolean expression has been evaluated to both true and false outcomes. A boolean expression is constant iff it is a tautology, e.g. <code>a==a</code>, <code>a!=a</code> and <code>p &amp;&amp; !p</code></li>
<li>Every nonconstant condition in a Boolean expression has been evaluated to both true and
false outcomes.</li>
<li>Every nonconstant condition in a Boolean expression has been shown to independently
affect the outcomes (of the expression).</li>
</ol>
<p>Points 1 and 2 entail node coverage, 3 and 4 imply edge coverage. 5 implies condition coverage.
6 requires more explaination.  </p>
<p>In the example D, to achieve MCDC coverage, we generate a decision table </p>
<table>
<thead>
<tr>
<th>cond</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>T</td>
<td>T</td>
<td>F</td>
<td>F</td>
</tr>
<tr>
<td>y</td>
<td>T</td>
<td>F</td>
<td>T</td>
<td>F</td>
</tr>
<tr>
<td>x &amp;&amp; y</td>
<td>T</td>
<td>F</td>
<td>F</td>
<td>F</td>
</tr>
<tr>
<td>actions</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>res = 0</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>res = 1</td>
<td></td>
<td>X</td>
<td>X</td>
<td>X</td>
</tr>
</tbody>
</table>
<p>In the above table, we conclude that if we fix <code>x</code> with one value, and toggle <code>y</code>'s value 
we are able to obtain both actions. Similar observation applies when we fix <code>y</code> and toggle <code>x</code>.
So we argue that we achieve MCDC coverage if we pick either </p>
<ul>
<li>{ (<code>x = true, y = true</code>), (<code>x = false, y = true</code>), (<code>x = true, y = false</code>) } or </li>
<li>{ (<code>x = true, y = true</code>), (<code>x = false, y = true</code>), (<code>x = false, y = false</code>) } </li>
</ul>
<p>While for example C</p>
<table>
<thead>
<tr>
<th>cond</th>
<th>1</th>
<th>2</th>
<th>3</th>
</tr>
</thead>
<tbody>
<tr>
<td>x&gt;0</td>
<td>T</td>
<td>F</td>
<td>F</td>
</tr>
<tr>
<td>x&lt;-1</td>
<td>F</td>
<td>T</td>
<td>F</td>
</tr>
<tr>
<td>x &gt;0 || x&lt;-1</td>
<td>T</td>
<td>T</td>
<td>F</td>
</tr>
<tr>
<td>actions</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>res = 1</td>
<td>X</td>
<td>X</td>
<td></td>
</tr>
<tr>
<td>res = 0</td>
<td></td>
<td></td>
<td>X</td>
</tr>
</tbody>
</table>
<p>In the above table we realize that the two sub condition expresssions <code>x&gt;0</code> and <code>x&lt;-1</code> are dependent mutually, i.e. we can't hold <code>x&gt;0</code> to be <code>true</code> and toggle <code>x&lt;-1</code>.  In this example, we can still attain MCDC coverage by considering <code>{x=1, x =-2, x=0}</code>. If we adjust the example by replacing <code>x &gt;0 || x&lt;-1</code> with <code>x &gt;0 &amp;&amp; x &lt; -1</code>, there is no way we can attain MCDC coverage, because it is impossoble to find such a value of <code>x</code> to satisfy the condition.</p>
<h3 id="coverage-report-in-jest">Coverage Report in Jest</h3>
<p>In Jest, we can enable to coverage report by adding the following to the <code>package.json</code>, assuming Jest has been enabled and installed.</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="w">  </span><span class="nt">"jest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="nt">"collectCoverage"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="p">,</span><span class="nt">"coverageReporters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="s2">"html"</span><span class="p">]</span>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">  </span><span class="p">},</span>
</span></code></pre></div>
<p>Assuming we have the <code>sum_all.js</code> file with code describe in the example A and the corresponding test code as follows,</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1">// test/sum_all.test.js</span>
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">sum_all</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'../src/sum_all'</span><span class="p">);</span>
</span><span id="__span-7-3"><a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="nx">describe</span><span class="p">(</span><span class="s2">"test suite for sum_all"</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-4"><a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">    </span><span class="nx">test</span><span class="w"> </span><span class="p">(</span><span class="s2">"test 1 for sum_all"</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-5"><a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">expected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">55</span><span class="p">;</span>
</span><span id="__span-7-6"><a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">        </span><span class="nx">expect</span><span class="p">(</span><span class="nx">sum_all</span><span class="p">([</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">6</span><span class="p">,</span><span class="mf">7</span><span class="p">,</span><span class="mf">8</span><span class="p">,</span><span class="mf">9</span><span class="p">,</span><span class="mf">10</span><span class="p">])).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
</span><span id="__span-7-7"><a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-7-8"><a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>when we run <code>npm run test sum_all.test.js</code>, we see the following additional output</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a> PASS  test/sum_all.test.js
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a>  test suite for sum_all
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a>    âœ“ test 1 for sum_all (3 ms)
</span><span id="__span-8-4"><a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a>
</span><span id="__span-8-5"><a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a>------------|---------|----------|---------|---------|-------------------
</span><span id="__span-8-6"><a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a>File        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
</span><span id="__span-8-7"><a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a>------------|---------|----------|---------|---------|-------------------
</span><span id="__span-8-8"><a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a>All files   |     100 |      100 |     100 |     100 |                   
</span><span id="__span-8-9"><a href="#__codelineno-8-9" id="__codelineno-8-9" name="__codelineno-8-9"></a> sum_all.js |     100 |      100 |     100 |     100 |                   
</span><span id="__span-8-10"><a href="#__codelineno-8-10" id="__codelineno-8-10" name="__codelineno-8-10"></a>------------|---------|----------|---------|---------|-------------------
</span></code></pre></div>
<p>We may also refer to the <code>.html</code> report generated in the <code>coverage</code> folder.</p>
<p>Unfortunately, we don't get condition coverage from <code>jest</code> builtin coverage analyzer. Consider the <code>div_by_zero</code> test.
Given the <code>div_by_zero</code> function in example B and the test code as follows
<div class="language-js highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="c1">// test/div_by_zero.test.js</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">'../src/div_by_zero'</span><span class="p">);</span>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a>
</span><span id="__span-9-4"><a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="nx">describe</span><span class="p">(</span><span class="s2">"test suite for div_by_zero"</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-5"><a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">    </span><span class="nx">test</span><span class="w"> </span><span class="p">(</span><span class="s2">"test 1 for f"</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-6"><a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">expected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mf">9</span><span class="p">;</span>
</span><span id="__span-9-7"><a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">        </span><span class="nx">expect</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="o">-</span><span class="mf">5</span><span class="p">)).</span><span class="nx">toBe</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
</span><span id="__span-9-8"><a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-9-9"><a href="#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">    </span><span class="nx">test</span><span class="w"> </span><span class="p">(</span><span class="s2">"test 2 for f"</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-10"><a href="#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">expected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">7.714285714285714</span><span class="p">;</span>
</span><span id="__span-9-11"><a href="#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">        </span><span class="nx">expect</span><span class="p">(</span><span class="nx">f</span><span class="p">(</span><span class="mf">7</span><span class="p">,</span><span class="mf">5</span><span class="p">)).</span><span class="nx">toBeCloseTo</span><span class="p">(</span><span class="nx">expected</span><span class="p">,</span><span class="mf">5</span><span class="p">);</span>
</span><span id="__span-9-12"><a href="#__codelineno-9-12" id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-9-13"><a href="#__codelineno-9-13" id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="p">})</span>
</span></code></pre></div>
running <code>npm run test div_by_zero.test.js</code> we find</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a>----------------|---------|----------|---------|---------|-------------------
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>File            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a>----------------|---------|----------|---------|---------|-------------------
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a>All files       |     100 |      100 |     100 |     100 |                   
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a> div_by_zero.js |     100 |      100 |     100 |     100 |                   
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a>----------------|---------|----------|---------|---------|-------------------
</span></code></pre></div>
<h3 id="path-testing">Path Testing</h3>
<p>To conduct path testing, a general approach is </p>
<ul>
<li>to generate enough test cases cover all paths with condensation (if possible).</li>
<li>in case of complex condition expression (esp with dependent condition expressions), we should construct a decision table to check impossibilities and generate additional test cases to ensure condition coverage.</li>
</ul>
<p>In regard to the path generation, we first need to find out how many unique paths exist.
Recall notion of cyclomatic complexity from graph theory class, that defines the number of linearly independent paths from the entry to the exit node.</p>
<p>$$
V(G) = e - n + 2p
$$
where <span class="arithmatex">\(e\)</span> is the number of edges in <span class="arithmatex">\(G\)</span> and <span class="arithmatex">\(n\)</span> is the number of nodes in <span class="arithmatex">\(G\)</span> and <span class="arithmatex">\(p\)</span> denotes the number of connected components. Since we are dealing with one program at a time, the number of connected compoment is 1. (Note <span class="arithmatex">\(p\)</span> is not strongly connected component.)</p>
<p>By applying the above formula to  the control flow graph from the <code>max_all</code> function, we find that in total there are 6 - 6 + 2 * 1 = 2 linearly unique paths from the entry to the exit, namely</p>
<ul>
<li><span class="arithmatex">\(1,2,3,7\)</span></li>
<li><span class="arithmatex">\(1,2,3,4,5,7\)</span></li>
</ul>
<p>We generate the test cases as follows,</p>
<table>
<thead>
<tr>
<th>id</th>
<th>arr</th>
<th>expected output</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>[]</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>[1,2,3,4,5,6,7,8,9,10]</td>
<td>55</td>
</tr>
</tbody>
</table>
<p>Note that Cyclomatic Complexity only measures the number of uniquely linearly paths, which serves as the <strong>lower-bound</strong> of the path coverage. For instance, recall example E, the cyclomatic complexity of function <code>f</code> is 8-7+2*1 = 3. But there exist 4 executable paths. This is because when counting linearly paths, the first if-else gives us two paths, by including a second if-else adds an extra 1 uniquely linearly path (as alternative). To find all executale paths (with max 1-loop-unrolling), we need to rely on the condition coverage.</p>
<p>Now we have to verify whether we have attained MCDC for <code>max_all</code>. Since there is only one predicate <code>i &lt; arr.length</code>
we have already covered both possible outcome of the predicate, namely, we executed the body the loop as well as exit from the loop. Hence we argue that the above test cases is providing path and MCDC coverage.</p>
<h3 id="cohort-exercise-graded">Cohort Exercise (Graded)</h3>
<p>Let's consider another example </p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">gcd</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-2"><a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-11-3"><a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="nx">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="nx">y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-4"><a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">    </span><span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-11-5"><a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-6"><a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-7"><a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-8"><a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
</span><span id="__span-11-9"><a href="#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">        </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
</span><span id="__span-11-10"><a href="#__codelineno-11-10" id="__codelineno-11-10" name="__codelineno-11-10"></a><span class="w">        </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">t</span>
</span><span id="__span-11-11"><a href="#__codelineno-11-11" id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-12"><a href="#__codelineno-11-12" id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
</span><span id="__span-11-13"><a href="#__codelineno-11-13" id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="w">        </span><span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
</span><span id="__span-11-14"><a href="#__codelineno-11-14" id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="w">        </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">t</span><span class="p">;</span>
</span><span id="__span-11-15"><a href="#__codelineno-11-15" id="__codelineno-11-15" name="__codelineno-11-15"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-11-16"><a href="#__codelineno-11-16" id="__codelineno-11-16" name="__codelineno-11-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-11-17"><a href="#__codelineno-11-17" id="__codelineno-11-17" name="__codelineno-11-17"></a><span class="w">    </span><span class="nx">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">x</span><span class="p">;</span>
</span><span id="__span-11-18"><a href="#__codelineno-11-18" id="__codelineno-11-18" name="__codelineno-11-18"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-11-19"><a href="#__codelineno-11-19" id="__codelineno-11-19" name="__codelineno-11-19"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">r</span><span class="p">;</span>
</span><span id="__span-11-20"><a href="#__codelineno-11-20" id="__codelineno-11-20" name="__codelineno-11-20"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>construct CFG of the above program.</li>
<li>find the cyclomatic complexity of the CFG.</li>
<li>generate the test cases to cover all paths.</li>
<li>generate extra test cases (if needed) to attain MCDC coverage.</li>
<li>verify your test cases's coverage using jest (though it is only up to edge coverage)</li>
</ol>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.5cfa9459.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>