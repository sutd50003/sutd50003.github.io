<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<title>50.003 - Software Testing - Elements of Software Construction 50.003</title>
<link href="../../css/bootstrap.min.css" rel="stylesheet"/>
<link href="../../css/font-awesome.min.css" rel="stylesheet"/>
<link href="../../css/base.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body>
<div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
<div class="container">
<a class="navbar-brand" href="../..">Elements of Software Construction 50.003</a>
<!-- Expander button -->
<button class="navbar-toggler" data-target="#navbar-collapse" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<!-- Expanded navigation -->
<div class="navbar-collapse collapse" id="navbar-collapse">
<!-- Main navigation -->
<ul class="nav navbar-nav">
<li class="navitem">
<a class="nav-link" href="../..">Home</a>
</li>
<li class="navitem">
<a class="nav-link" href="../l1_course_handout/">Handout</a>
</li>
</ul>
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" data-target="#mkdocs_search_modal" data-toggle="modal" href="#">
<i class="fa fa-search"></i> Search
                            </a>
</li>
</ul>
</div>
</div>
</div>
<div class="container">
<div class="row">
<div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
<div class="navbar-header">
<button class="navbar-toggler collapsed" data-target="#toc-collapse" data-toggle="collapse" title="Table of Contents" type="button">
<span class="fa fa-angle-down"></span>
</button>
</div>
<div class="navbar-collapse collapse card bg-secondary" id="toc-collapse">
<ul class="nav flex-column">
<li class="nav-item" data-level="1"><a class="nav-link" href="#50003-software-testing">50.003 - Software Testing</a>
<ul class="nav flex-column">
<li class="nav-item" data-level="2"><a class="nav-link" href="#learning-outcomes">Learning Outcomes</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#software-testing">Software testing</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#why-software-testing">Why software testing</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#anantomy-of-software-testing">Anantomy of software testing</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#limitation-of-software-testing">Limitation of Software testing</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-level="2"><a class="nav-link" href="#testing-a-nodejs-app">Testing a Node.js app</a>
<ul class="nav flex-column">
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div></div>
<div class="col-md-9" role="main">
<h1 id="50003-software-testing">50.003 - Software Testing</h1>
<h2 id="learning-outcomes">Learning Outcomes</h2>
<p>By the end of this unit, you should be able to </p>
<ol>
<li>Explain what is software testing</li>
<li>Articulate the purpose of software testing</li>
<li>List the components of a test  </li>
<li>List the components of a test case</li>
<li>Develop simple testsuite for JavaScript programs using Jest</li>
</ol>
<h2 id="software-testing">Software testing</h2>
<p>Software testing is one of the methods to check and validate the produced software is behaving according to the specification.  </p>
<p>Furthermore software testing helps to identify potential flaws in</p>
<ul>
<li>architectural design</li>
<li>software security</li>
<li>software performance</li>
</ul>
<p>The following is a quote adopted from IBM <code>https://www.ibm.com/topics/software-testing</code>.</p>
<p><em>"Software testing is the process of evaluating and verifying that a software product or application does what it is supposed to do. The benefits of testing include preventing bugs, reducing development costs and improving performance."</em></p>
<h2 id="why-software-testing">Why software testing</h2>
<p>The answer this question. One way is to find out what if we do not conduct software testing? In particular for large scale mission critical systems, the absence of testing often leads to epic failures and excessive monetary cost.</p>
<p>For instance in 1998, NASA launched a Mars Climate Orbiter. However due to an English Unit to Metric translation errors, the Orbiter lost contact after it passed behind Mars.</p>
<h2 id="anantomy-of-software-testing">Anantomy of software testing</h2>
<h3 id="what-is-a-test">What is a test?</h3>
<p>A test in a software system is an act to exercise software with test cases. 
A test have two goals
1. to find faults.
1. to show that the software behaves according to expectation (specification), i.e. to build confidence.</p>
<div class="mermaid">graph
  Input--&gt;Program
  Program--&gt;TO
  TO["Test Oracle"]--&gt;Pass
  TO["Test Oracle"]--&gt;Fail
</div>
<p>A test is a process of feeding the generated input to the test subject, i.e. the program, 
the output will be verified by a test oracle, which returns either <code>Pass</code> or <code>Fail</code> as result. The test oracle is often implemented as another program.</p>
<h3 id="what-is-a-test-case">What is a test case?</h3>
<p>A test case is a formal documentation of a test.
A test case consists of </p>
<ul>
<li>an identifier (often linked to the user case identifier).</li>
<li>a description of the purpose and the use case description being tested.</li>
<li>a precondition</li>
<li>a set of inputs</li>
<li>the expected output</li>
<li>the expected postcondition</li>
<li>the execution history (the log)</li>
</ul>
<h2 id="limitation-of-software-testing">Limitation of Software testing</h2>
<p>Despite the importance of testing, testing alone is insufficient to ensure software free from bugs, since a failed test implies the existence of a software bug, a passed test implies that the software behaves according to the specification when given a particular instance of the input. But what about other input instances? What if the domain of the input is infinite. </p>
<p><em>"Testing shows the presence, not the absence of bugs"</em> -- Edsger Dijkstra </p>
<h2 id="testing-a-nodejs-app">Testing a Node.js app</h2>
<p>There are many tools for testing Node.js app. Jest is the one of the most popular option.</p>
<p>To add Jest to a Node.js project, we can run</p>
<pre><code class="language-bash">npm i jest
</code></pre>
<p>in the project description file <code>package.json</code> change the follow line </p>
<pre><code class="language-json">"test": "echo \"Error: no test specified\" &amp;&amp; exit 1"
</code></pre>
<p>to </p>
<pre><code class="language-json">"test": "jest"
</code></pre>
<p>Consider in the <code>src/mymath.js</code> </p>
<pre><code class="language-js">//
function sum(x,y) {
    return x + y;
}

module.exports =  {sum}
</code></pre>
<p>In the <code>test/mymath.test.js</code></p>
<pre><code class="language-js">const mymath = require('../src/mymath.js');

describe("mymath sum test-suite", () =&gt; {
    test ("summing of two positive numbers", () =&gt; {
        const result = mymath.sum(1,2);
        expect(result).toBe(3);
    });
    test ("summing of two negative numbers", () =&gt; {
        const result = mymath.sum(-3,-2);
        expect(result).toBe(-5);
    });
})
</code></pre>
<p>The <code>describe()</code> function defines a set of tests should be logically grouped together as a test suite. In the above case, in the test suite consists of two tests.
Each test is define by a call to <code>test()</code> function, which expect a description fo the test, the action test function. In the test function, we compute the actual result by calling the test subject, <code>sum()</code>, and compares it with the execpted result. </p>
<p>To execute the test, we run</p>
<pre><code class="language-bash">npm run test
</code></pre>
<p>which runs the above test suite against the test subject and generates the following report in the console.</p>
<pre><code class="language-bash">&gt; my_test_app@1.0.0 test
&gt; jest

 PASS  test/mymath.test.js
  mymath sum tests
    ✓ summing of two positive numbers (12 ms)
    ✓ summing of two negative numbers (3 ms)

Test Suites: 1 passed, 1 total
Tests:       2 passed, 2 total
Snapshots:   0 total
Time:        0.35 s, estimated 1 s
Ran all test suites.
</code></pre>
<h3 id="testing-oop">Testing OOP</h3>
<p>We can use Jest to test an object instance of a class, consider the following file
<code>src/FibSeq.js</code></p>
<pre><code class="language-js">// src/FibSeq.js
class FibSeq {
    constructor() {
        this.prev = 0;
        this.curr = 1;
    }
    next() {
        let res = this.prev + this.curr;
        this.prev = this.curr;
        this.curr = res;
        return res;
    }
}

module.exports = FibSeq;
</code></pre>
<p>We can test it with the following test suite</p>
<pre><code class="language-js">const FibSeq = require('../src/FibSeq.js');

describe("FibSeq class test", () =&gt; {
    const fibSeq = new FibSeq();
    test ("first fib num is 1", () =&gt; {
        const result = fibSeq.next();
        expect(result).toBe(1);
    });
    test ("second fib num is 2", () =&gt; {
        const result = fibSeq.next();
        expect(result).toBe(2);
    });
})
</code></pre>
<p>Which will run the two tests in sequence.</p>
<p>If we want to have the object being reset for each test case.</p>
<pre><code class="language-js">describe("FibSeq class test with setup and tear down", () =&gt;{
    let fibSeq = null;
    beforeEach(() =&gt; {
        fibSeq = new FibSeq();
    });
    test ("first fib num is 1 after reset", () =&gt; {
        const result = fibSeq.next();
        expect(result).toBe(1);
    });
    test ("second fib num is 1 after reset", () =&gt; {
        const result = fibSeq.next();
        expect(result).toBe(1);
    });
    afterEach(() =&gt; {
        fibSeq = null;
    })
})
</code></pre>
<h3 id="further-readings">Further Readings</h3>
<ul>
<li>https://www.lambdatest.com/jest</li>
</ul></div>
</div>
</div>
<footer class="col-md-12">
<hr/>
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
</footer>
<script src="../../js/jquery-3.6.0.min.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
<script src="../../js/base.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../../search/main.js"></script>
<div aria-hidden="true" aria-labelledby="searchModalLabel" class="modal" id="mkdocs_search_modal" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="searchModalLabel">Search</h4>
<button class="close" data-dismiss="modal" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
</div>
<div class="modal-body">
<p>From here you can search these documents. Enter your search terms below.</p>
<form>
<div class="form-group">
<input class="form-control" id="mkdocs-search-query" placeholder="Search..." title="Type search term here" type="search"/>
</div>
</form>
<div data-no-results-text="No results found" id="mkdocs-search-results"></div>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div><div aria-hidden="true" aria-labelledby="keyboardModalLabel" class="modal" id="mkdocs_keyboard_modal" role="dialog" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
<button class="close" data-dismiss="modal" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
</div>
<div class="modal-body">
<table class="table">
<thead>
<tr>
<th style="width: 20%;">Keys</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="help shortcut"><kbd>?</kbd></td>
<td>Open this help</td>
</tr>
<tr>
<td class="next shortcut"><kbd>n</kbd></td>
<td>Next page</td>
</tr>
<tr>
<td class="prev shortcut"><kbd>p</kbd></td>
<td>Previous page</td>
</tr>
<tr>
<td class="search shortcut"><kbd>s</kbd></td>
<td>Search</td>
</tr>
</tbody>
</table>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>
